import{d as t,E as e,p as a,e as s,o as n,f as o,g as l,h as i,v as c,w as d,F as r,t as p,m as u,u as m,n as v,q as g,j as x,i as w,K as h,G as b}from"./vendor.54beb8e3.js";import{S as y,j as f,k as A,h as k,B as S,l as C}from"./index.9997e8f1.js";import{_ as I}from"./ArrangementScheme.376fb490.js";var P=t({name:"Countdown",components:{},props:{data:{type:Object,default:{}}},setup(t){const{data:a}=e(t);return{data:a}}});const Q=d();a("data-v-c7c6994a");const T={class:"countdown"},U=i("div",{class:"countdown-title"},"交付倒计时",-1),O={key:0,class:"countdown-content"},L=i("span",{class:"countdown-content-label"},"已完成",-1),M={key:1,class:"countdown-content"},j={key:0,class:"countdown-content-label countdown-content-red"},D={key:0},G={key:1},N={class:"countdown-text"},_=i("span",{class:"countdown-text-gray"},"启动时间",-1),B={class:"countdown-text-black"},E={class:"countdown-text"},q=i("span",{class:"countdown-text-gray"},"交付时间",-1),V={class:"countdown-text-black"};s();const z=Q(((t,e,a,s,d,r)=>(n(),o("div",T,[U,1===t.data.state?(n(),o("div",O,[L])):(n(),o("div",M,[t.data.isTimeout||2===t.data.state?(n(),o("span",j,[t.data.isTimeout?(n(),o("span",D,"已超时")):l("v-if",!0),2===t.data.state?(n(),o("span",G,"（已暂停）")):l("v-if",!0)])):l("v-if",!0),i("span",{class:["countdown-content-large",{"countdown-content-red":t.data.isTimeout,"countdown-content-yellow":!t.data.isTimeout}]},c(t.data.hour),3),i("span",{class:{"countdown-content-red":t.data.isTimeout,"countdown-content-yellow":!t.data.isTimeout}},"时",2),i("span",{class:["countdown-content-large",{"countdown-content-red":t.data.isTimeout,"countdown-content-yellow":!t.data.isTimeout}]},c(t.data.minute),3),i("span",{class:{"countdown-content-red":t.data.isTimeout,"countdown-content-yellow":!t.data.isTimeout}},"分",2),i("span",{class:["countdown-content-large",{"countdown-content-red":t.data.isTimeout,"countdown-content-yellow":!t.data.isTimeout}]},c(t.data.second),3),i("span",{class:{"countdown-content-red":t.data.isTimeout,"countdown-content-yellow":!t.data.isTimeout}},"秒",2)])),i("div",N,[_,i("span",B,c(t.data.startTime||"--"),1)]),i("div",E,[q,i("span",V,c(t.data.finishTime||"--"),1)])]))));P.render=z,P.__scopeId="data-v-c7c6994a";var F=t({name:"Contact",components:{},props:{data:{type:Array,default:[]}},setup(t){const{data:a}=e(t);return{data:a,Supplier:y}}});const K=d();a("data-v-0a70e36c");const R={key:0,class:"contact"},W=i("div",{class:"contact-title"},"联系方式",-1),Z={class:"contact-cells"},H={key:0,class:"contact-button contact-button-blue"},J={key:1,class:"contact-button contact-button-yellow"},$={class:"contact-text contact-text-black"},X={class:"contact-text contact-text-black"};s();const Y=K(((t,e,a,s,d,u)=>t.data&&t.data.length?(n(),o("div",R,[W,i("div",Z,[(n(!0),o(r,null,p(t.data,((e,a)=>(n(),o("div",{class:"contact-cell",key:a},[e.type===t.Supplier.Machining?(n(),o("span",H,"加工方")):e.type===t.Supplier.Injection?(n(),o("span",J,"注塑方")):l("v-if",!0),i("span",$,c(e.userName||"--"),1),i("span",X,c(e.phoneNo||"--"),1)])))),128))])])):l("v-if",!0)));F.render=Y,F.__scopeId="data-v-0a70e36c";var tt=t({name:"HpSteps",components:{},props:{list:{type:Array,default:[]}},setup(t,a){const{list:s}=e(t);return{list:s,updateList:(t,e,s)=>{a.emit("updateList",{item:t,index:e,list:s})}}}});const et=d();a("data-v-3729ec18");const at={class:"hp-steps"},st=i("div",{class:"hp-step-line"},null,-1);s();const nt=et(((t,e,a,s,l,d)=>(n(),o("div",at,[(n(!0),o(r,null,p(t.list,((e,a)=>(n(),o("div",{class:"hp-step",key:a},[i("div",{class:"hp-step-box",onClick:s=>t.updateList(e,a,t.list)},[i("div",{class:["hp-step-label",[1===e.status?"hp-step-label-navyblue":2===e.status?"hp-step-label-lightblue":"hp-step-label-gray"]]},c(e.sequenceNumber||a+1),3),i("div",{class:["hp-step-text",[1===e.status?"hp-step-text-navyblue hp-step-text-line":"hp-step-text-gray"]]},c(e.text||"--"),3)],8,["onClick"]),st])))),128))]))));tt.render=nt,tt.__scopeId="data-v-3729ec18";var ot=t({name:"OrderInformationComponent",components:{ArrangementScheme:I},setup(){u();const t=m(),e=v((()=>t.state.order.mould)),a=v((()=>t.state.order.arrangementScheme)),s=v((()=>t.getters.order[C.OrderObject])),n=e=>t.dispatch(`order/${f.GetMould}`,e),o=g(!1),l=g(S);return n(),{mould:e,arrangementScheme:a,orderObject:s,getMould:n,dfmApprovalDrawing:e=>t.dispatch(`order/${f.DfmApprovalDrawing}`,e),getArrangementScheme:e=>t.dispatch(`order/${f.GetArrangementScheme}`,e),updateArrangementScheme:e=>t.commit(`order/${A.UpdateArrangementScheme}`,e),isShowImage:o,BASE_IMAGE_URL:l,Supplier:y,showImage:t=>{},downloadFile:(t,e)=>{t&&k(S+t,e)}}}});const lt=d();a("data-v-7e63bc88");const it={class:"information"},ct={key:0,class:"show-image"},dt={key:1,class:"list"},rt={class:"li li-bg"},pt={class:"li-row"},ut={class:"li-text"},mt=i("span",{class:"li-text-gray"},"模具寿命：",-1),vt={class:"li-text-gray"},gt={class:"li-row"},xt={class:"li-text"},wt=i("span",{class:"li-text-gray"},"精度标准",-1),ht=i("span",{class:"li-text-gray"},"：",-1),bt={class:"li-text-gray"},yt={class:"li-row"},ft={class:"li-text"},At={class:"li-text"},kt=i("span",{class:"li-text-black"},"产品：",-1),St={class:"li-text-black"},Ct={class:"li-content"},It={class:"li-row"},Pt={class:"li-image"},Qt={class:"li-text"},Tt={class:"li-row"},Ut={class:"li-text"},Ot=i("span",{class:"li-text-black"},"表面要求：",-1),Lt={class:"li-text-gray"},Mt={class:"li-text"},jt=i("span",{class:"li-text-black"},"产品数量：",-1),Dt={class:"li-text-gray"},Gt={class:"li-text"},Nt=i("span",{class:"li-text-black"},"重量(g)：",-1),_t={class:"li-text-gray"},Bt={class:"li-row"},Et={class:"li-text"},qt=i("span",{class:"li-text-black"},"材料及颜色：",-1),Vt={class:"li-text-blue"},zt={class:"li-text"},Ft=i("span",{class:"li-text-black"},"二次工艺：",-1),Kt={class:"li-text-blue"},Rt={class:"li-text"},Wt=i("span",{class:"li-text-black"},"尺寸(mm)：",-1),Zt={class:"li-text-gray li-text-border"},Ht={class:"li-text-gray li-text-border"},Jt={class:"li-text-gray li-text-border"},$t={key:0,class:"li-buttons"};s();const Xt=lt(((t,e,a,s,d,u)=>{const m=x("ArrangementScheme");return n(),o("div",it,[t.isShowImage?(n(),o("div",ct,[i("img",{src:"/assets/GB-T14486-2008.f15aefd9.png",class:"li-text-icon",alt:"",onClick:e[1]||(e[1]=e=>t.showImage(!1))})])):l("v-if",!0),t.mould.mouldProductList&&t.mould.mouldProductList.length?(n(),o("div",dt,[i("div",rt,[i("div",pt,[i("div",ut,[mt,i("span",vt,c(t.mould.lifetime)+"（万啤）",1)])]),i("div",gt,[i("div",xt,[wt,i("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAMAAACelLz8AAAAgVBMVEUAAAA6ePU7ePY1fv85ePU6ePQ6ePQ5ePQ8efc7e/A6ePQ6ePU6ePM6ePU7ePQ6d/Q6ePQ6ePQ6ePQ5d/Q5ePM6ePQ7d/U6ePQ6ePQ5ePQ6ePU5ePQ6efM5ePQ7ePM5ePQ3dvI4gPg5ePQ6ePQ6ePQ6d/U6efQ7efU8d/U5efI6ePQo7zFMAAAAKnRSTlMAZzUG9evvRR8Q3MWZlbuvd+amiVUtGfjUtquPg1s/OhIKyrihe2FOTShYQxpkAAABDklEQVQoz42Q2ZaDIBBECwXc4j6afTGTZGbq/z9wDoJg3nJfurQKuhs4bqLeKaqij/BOdpRcuF/WzqUl96/hhjE5KrKMvfO1ZTHAMT233C9eJH3OfresXZ+WJd4YNMUsTixim2mqg7AdqDMztWRk79FVc2Az64pPAIJ7WMyJTT7LhKbWfCHQaFs1UyDnHwL5xtZv/gKSU3A2OnPCzEiudmfiVGksxXR9naPjGSh8EmmQO7NRz6M/lWQ+JGMgolp+BE7sTLnz5KforRg1r6ZeuI3cc9BvVS+DqsEqG4kfVCOsrCjP8KQFpclY70AWiTN6SXVFQLSkqh5ltyNZj1gzNTlnZBeOhB4/QpyjGJ/wD6IyFiTqbs1yAAAAAElFTkSuQmCC",class:"li-text-icon",alt:"",onClick:e[2]||(e[2]=e=>t.showImage(!0))}),l(' <el-image \r\n              class="li-text-icon"\r\n              :src="require(\'../../../../assets/images/tip_4.png\')" \r\n              :preview-src-list="[require(\'../../../../assets/images/GB-T14486-2008.png\')]">\r\n            </el-image> '),ht,i("span",bt,c(t.mould.toleranceValue),1)])]),i("div",yt,[i("div",ft,[i("span",{class:"li-text-button",onClick:e[3]||(e[3]=e=>t.getArrangementScheme())},"排模方案")])])]),(n(!0),o(r,null,p(t.mould.mouldProductList,((e,a)=>(n(),o("div",{class:"li",key:a},[i("div",At,[kt,i("span",St,c(e.realProductNo),1),l(' <span class="li-text-tips" v-if="a.isUpdateImage !== 2">\r\n            <img src="../../../../assets/images/tip_3.png" class="li-text-icon" alt="">\r\n            <span class="li-text-tip">需要更新图纸</span>\r\n          </span> ')]),i("div",Ct,[i("div",It,[i("div",Pt,[i("img",{class:"li-image-icon",src:t.BASE_IMAGE_URL+e.productImage,alt:""},null,8,["src"])]),i("div",Qt,[i("span",{class:"li-text-blue li-text-pointer",onClick:a=>t.downloadFile(e.fileUrl,e.productName+"."+e.fileUrl.split(".")[1])},"下载",8,["onClick"])])]),i("div",Tt,[i("div",Ut,[Ot,i("span",Lt,c(e.surfaceTreatment),1)]),i("div",Mt,[jt,i("span",Dt,c(e.productNum),1)]),i("div",Gt,[Nt,i("span",_t,c(e.productWeight),1)])]),i("div",Bt,[i("div",Et,[qt,i("span",Vt,c(e.productMaterial.materialSpecParentName)+c(e.productMaterial.materialColorValue),1)]),i("div",zt,[Ft,i("span",Kt,c(e.productTechnologyList.technologySpecName),1)]),i("div",Rt,[Wt,i("span",Zt,c(e.productLength),1),i("span",Ht,c(e.productWidth),1),i("span",Jt,c(e.productHeight),1)])])]),t.Supplier.Dfm===t.orderObject.type?(n(),o("div",$t,[2!==e.isUpdateImage?(n(),o("div",{key:0,class:"li-button li-button-blue",onClick:e=>t.needChangeDrawing({index:a})},"需要更新图纸",8,["onClick"])):l("v-if",!0),2===e.isUpdateImage?(n(),o("div",{key:1,class:"li-button li-button-blue",onClick:e=>t.dfmApprovalDrawing({opinion:1,index:a})},"确认图纸",8,["onClick"])):l("v-if",!0),2===e.isUpdateImage?(n(),o("div",{key:2,class:"li-button li-button-red",onClick:e=>t.dfmApprovalDrawing({opinion:1,index:a})},"驳回图纸",8,["onClick"])):l("v-if",!0)])):l("v-if",!0)])))),128))])):l("v-if",!0),i(m,{data:t.arrangementScheme,onUpdateData:t.updateArrangementScheme},null,8,["data","onUpdateData"])])}));ot.render=Xt,ot.__scopeId="data-v-7e63bc88";var Yt=t({name:"OrderDetailView",components:{Countdown:P,Contact:F,HpSteps:tt,OrderInformation:ot},setup(){u();const t=m(),e=v((()=>t.state.order.navigationIndex)),a=v((()=>t.state.order.navigationList)),s=v((()=>t.state.order.countdown)),n=v((()=>t.state.order.contact)),o=v((()=>t.state.order.order.list[t.state.order.order.index]||{})),l=e=>t.dispatch(`order/${f.UpdateNavigationIndex}`,e),i=e=>t.dispatch(`order/${f.GetCountdown}`,e),c=e=>t.dispatch(`order/${f.GetContact}`,e),d=g(!1);return w((()=>{i(),c()})),h((()=>{i(!1)})),{navigationIndex:e,navigationList:a,countdown:s,contact:n,orderObject:o,updateNavigationIndex:l,getCountdown:i,getContact:c,exportDfm:e=>t.dispatch(`order/${f.ExportDfm}`,e),isShowOrderInfo:d,updateList:t=>{const{index:e}=t||{};l(e)}}}});const te=d();a("data-v-19e7cc92");const ee={class:"context"},ae={class:"context-title"},se=b(" 订单中心 "),ne={key:0},oe={class:"context-body"},le={class:"list"},ie={class:"list-header"},ce={class:"nav-items"},de={class:"nav-buttons"},re=i("div",{class:"nav-button"},"平台标准",-1),pe={class:"list-body"},ue={class:"list-buttons"},me=i("span",null,"订",-1),ve=i("span",null,"单",-1),ge=i("span",null,"信",-1),xe=i("span",null,"息",-1),we=i("span",null,"返",-1),he=i("span",null,"回",-1),be=i("span",null,"流",-1),ye=i("span",null,"程",-1);s();const fe=te(((t,e,a,s,d,r)=>{const p=x("HpSteps"),u=x("OrderInformation"),m=x("router-view"),v=x("Countdown"),g=x("Contact");return n(),o("div",ee,[i("div",ae,[se,t.orderObject.orderNo?(n(),o("span",ne,"/"+c(t.orderObject.orderNo),1)):l("v-if",!0)]),i("div",oe,[i("div",le,[i("div",ie,[i("div",ce,[i(p,{list:t.navigationList,onUpdateList:t.updateList},null,8,["list","onUpdateList"])]),i("div",de,[re,i("div",{class:"nav-button",onClick:e[1]||(e[1]=e=>t.exportDfm())},"下载报告")])]),i("div",pe,[i("div",ue,[t.isShowOrderInfo?(n(),o("div",{key:1,class:"list-button",onClick:e[3]||(e[3]=e=>t.isShowOrderInfo=!t.isShowOrderInfo)},[we,he,be,ye])):(n(),o("div",{key:0,class:"list-button",onClick:e[2]||(e[2]=e=>t.isShowOrderInfo=!t.isShowOrderInfo)},[me,ve,ge,xe]))]),t.isShowOrderInfo?(n(),o(u,{key:0})):(n(),o(m,{key:1}))])]),i("div",null,[i(v,{data:t.countdown},null,8,["data"]),i(g,{data:t.contact},null,8,["data"])])])])}));Yt.render=fe,Yt.__scopeId="data-v-19e7cc92";export default Yt;
