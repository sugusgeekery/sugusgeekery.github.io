import{d as e,m as o,u as t,n as s,q as a,s as l,I as r,p as i,e as d,o as n,f as c,h as m,F as f,t as v,v as u,g as A,x as p,z as g,A as Q,w as C}from"./vendor.54beb8e3.js";import{g as P,a as h,R as U,b as I,W as x,c as N}from"./index.9997e8f1.js";import{_ as S,a as y,b as V}from"./verification.d87d2f67.js";var b=e({name:"RegisterView",components:{},setup(){const e=o(),i=t(),d=s((()=>i.state.verificationCodeNumber)),n=s((()=>i.state.registerNavIndex)),c=s((()=>i.state.registerNavList)),m=s((()=>i.state.isCheckProtocol)),f=s((()=>i.state.isShowProtocol)),v=e=>i.dispatch(h.GetVerificationCode,e),u=e=>i.dispatch(h.Register,e),A=e=>i.dispatch(h.WechatLogin,e),p=e=>i.commit(U.UpdateRegisterNavIndex,e),g=a(""),Q=a(""),C=a(""),S=a(""),y=a(""),V=a(0),b=()=>{const e=I("code");e&&A({jsCode:e})},{currentRoute:M}=e;return l(M.value,(()=>{b()})),l(n.value,(()=>{if(2===n.value){const o=setInterval((()=>{V?V.value--:(clearInterval(o),p(0),e.push("/account/information"))}),1e3)}})),y.value=P({appid:x,redirectUri:encodeURIComponent(N+"/#/register")}),b(),{verificationCodeNumber:d,registerNavIndex:n,registerNavList:c,isCheckProtocol:m,isShowProtocol:f,getVerificationCode:v,register:u,wechatLogin:A,updateIsCheckProtocol:e=>i.commit(U.UpdateIsCheckProtocol,e),updateRegisterNavIndex:p,companyName:g,userName:Q,phone:C,code:S,iframeSrc:y,tipNumber:V,sendVerifyCode:()=>{C?v({phone:C,type:1}):r.error("请输入手机号码")},validateCtl:e=>{if("phone"==e){const e=/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,o=C.value||"";""!=o&&(e.test(o)||(r.error("手机号码格式不对"),C.value=""))}else if("code"==e){const e=/^[\d]{6}$/,o=S.value||"";""!=o&&(e.test(o)||(r.error("验证码格式不对"),S.value=""))}},login:b,registerCtl:()=>{g?Q?C?S?m?u({companyName:g,userName:Q,phone:C,code:S}):r.error("请阅读并勾选协议"):r.error("请输入验证码"):r.error("请输入手机号码"):r.error("请输入名字"):r.error("请输入公司名称")},toHome:()=>{p(0),e.push("/account/information")}}}});const M=C();i("data-v-0ef80526");const R={id:"Register",class:"context"},k=m("img",{class:"background",src:S,alt:""},null,-1),B={class:"content"},X={class:"model"},q={class:"model-navs"},w={key:0,class:"model-nav-line"},L={key:0,class:"model-section"},T={key:1,class:"model-section"},E={class:"model-form"},z={class:"model-form-item"},Y=m("img",{class:"model-form-image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAnFBMVEUAAAA1ePU2efQ7efQ0efQ3efQ2d/Y2efQ5d/M3d/Q3efQ3evQ2ePQ3efQ2efQ9e/o3d/Q5e+44dP83efU7dvI3efU1ePU3ePU3ePQ3dvQ3evQ3ePU2ePM3evQ3efQ6efc7efY3efQ3efQ2ePQ3efQ3ePQ2d/Q3ePQ2efQ2ePU1ePM3efQ2ePQ3d/U4efU3efU3efQ3ePQ4d/U4ePNzK4M0AAAANHRSTlMAM+wiL+E45ymQ+subz5YKbw4FwxLbSKxUF6V/QMd0HRrVskS3oIta8Uw8u4VoZPbAXnls2QcujAAAA2hJREFUSMfdlNeSozAQRRFCQgQhwGBEzjk4/f+/rbBnNg7efV4eurqgj7rvrRbSf/q4zPFgssXLI/H+pdzJCa55ZgVBx8O/1zswuS3tnJZIVq93+LaWFSThW2zO/kWX/VK9IHNy39QXuF+qE/XVQdf9II4rdbiu8HBymDy0ppRlVNJ0juIR4pgOqIr7GpOC/QnANaJokGmgxSsXNZ4E7+kgJjPmdrkB5/fzPR6oKj0FMQfQY64rRicLlRGl6CL7TdcT9qs1uPPVYB3PCS728QBxJGD5KLA3zZD1wT/Fyi9A2DcDfXhS0Wc8d0lmxtgBpoo6wnDWNim6pFvo/qzApno6SpJiGm3i4AhdbyEwZVUjEoO45pYqt+fwZyCj+rWWJKA1WuIoy2yOIbBk1QSv7/x0oRn8AgjxGReuB2qcM2z+AKZKVzXll5EM/Xp+rh1z9+i4Em5l1QIsx5MQEg0i/w04CSCcxr0DHpPCxbsGpeBWu0KhB30JgK7qdg2NVTvA2gGYGX6niBxpXwF1I8/cS4IhvYUvIN+q653sHTTlbYfR2wELOOC2Jh5uDwAPJCB0PSXBudCwA65T5J6LowOAhXnIXvHTpUJRcnYI5HzlkOXjygkDT5fCc9z1+aEGbJ7M3Z80Gr0P0eucxseik8APRm+KUMM/XCr6qLLhIUAyLQOM2NZ939anSwq/4WOXHAKI5zpQxE+XWFg4wqX3APkBMIgn4hwCyt0SI+0XaBIjvTSY0eNYQ92ozShWQz69VqMTu0Sfu3ToUhmdHdz6Ffc+XWqD9bgDvN1vhMH+vikMfGioR+IcusRymDOXFTAXzrTPG+c6HpMORXvKpISuo0yg+O7SlLxzKY5izMg96mrv5VL+tUvhdrpcE0kCZmphSbGMqGZEU9ECvT6Y7ZxYqr/An4Hb9bL/NYjdbVCCD+1BBIZQR1xle0yOyMuFfFZ7BawXqtOVkIn3Z0Awv40K6StZDrh4l4i8GVDEYRE+gWm0rXTQURTH98y2szgW8ZG1pa6XZrau25a1vn4pTZvXT2CLG/+iX+SS0lMVVCcjFXFO/UHXBz+dq6o5+YMo8Ofu8QRszVDV0qC+qvolLRFCIvoI+ZTusdxzcRhSqXl/dVhmmu5HU2oYqWE8I6VpEwRzKt595FfjqtnSf/F8A49AYwLiWJZYAAAAAElFTkSuQmCC",alt:""},null,-1),K={class:"model-form-item"},O=m("img",{class:"model-form-image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAllBMVEUAAAAyefQ3ePU4ePQ3efQ3evU7dfM7dv83efQ3efU4efQ3efQ3evQ3efQ2efQ4d/U3efQ3efQ7fe43efQ2d/Q2d/Q2ePQ3d/Q2efQ3efQ2efQ3ePU2d/Q3efY4ePU1ePM5ePM6efc3efQ2efQ3dfU9d/o2efQ3ePU3ePU6d/M5ePY2ePQ2ePU3ePQ2ePU3efQ1efQ2d/WPPirvAAAAMnRSTlMALn5w19wUBs7F08C2seZ6UsoO4Z2OhVjsu6NLRDhmPSgf6agYCvmsXyQcmZOIM3VCSM+8TwgAAAIWSURBVEjH7ZTZspswDIaDsR3jBWP2fU8gELK8/8u1vTjJlBNMe9vpf+d/9I0ljaTDv6ijITmElEJoLcXpD4Am6pANlaKeJ8rLcTd+KnnbWsHdDAVqLVnv5YMdYcPOLJreGK/0TMpG/wfOZxuB6nL6yU434J2TsdECF0naofh6GX7czjctUKU2uU9fLzfiMXtqgWeC/Nx9VdRIaDlaIEsoqN9lHkfLinYAGBpv4DSqHSDnXufgV3y9oJ2UCt+D4eXV5JLFPNfPRcnad8gtjb3A0AJusUAY5EbvuriuQhR3Tn/QE7kPoQidqspkh1oe9Xvjh52roskcgkAQOpTTYVe4uqdMEaKsIcxe8Tq5D5DY53Osrq/8tcK38sp+ASQ1q13iVGdm0HFmEaIYH2bpGFi7P4UUhCqeBksYzMKilAWZhsDPgNiQ+6B0HlU2ylnQFqZRsxmfpShmICuMBrsunuricee2LbaWzs18ZHPzt7Wfxg6iYZw2Bg/BOVodlj4PGRoc91N/gBf7ufv9rgHo+fnpe/xdxSxyP3Tu4XvoaqwJnPPWMpvP0yXOJLqsXKOkCGwcxt5EdpitTCfULOMjsQe58sDgiWoLuPlIdSsvZeS6eeNqadFk5TGamJctoI9SYq086IkIb89kQMjKs2OuBSBcA2caPo0NVaXw0LoGhMRibgj4Cq5rSBMlAinBB0m5pCzpDv/1F/oBEN4tQ44LRXkAAAAASUVORK5CYII=",alt:""},null,-1),D={class:"model-form-item"},Z=m("img",{class:"model-form-image",src:y,alt:""},null,-1),F={class:"model-form-item"},G=m("img",{class:"model-form-image",src:V,alt:""},null,-1),j={key:0,class:"model-form-text-button model-form-text-button-active"},W={class:"model-form-context"},H=m("div",{class:"model-form-context-text"}," 已阅读并遵守平台用户服务协议 ",-1),J={class:"model-form-buttons"},_={key:2,class:"model-section"},$={class:"model-tip"},ee=m("div",{class:"model-tip-circle"},null,-1),oe=m("div",{class:"model-tip-black"},"注册成功",-1),te={class:"model-tip-gray"};d();const se=M(((e,o,t,s,a,l)=>(n(),c("div",R,[k,m("div",B,[m("div",X,[m("div",q,[(n(!0),c(f,null,v(e.registerNavList,((o,t)=>(n(),c("div",{class:"model-nav",key:t},[m("div",{class:["model-nav-text",{"model-nav-text-grey":e.registerNavIndex<t,"model-nav-text-black":e.registerNavIndex>t,"model-nav-text-blue":e.registerNavIndex===t}]},u(t+1)+u(o.text),3),t<e.registerNavList.length-1?(n(),c("div",w)):A("v-if",!0)])))),128))]),0===e.registerNavIndex?(n(),c("div",L,[m("iframe",{class:"model-iframe",src:e.iframeSrc,frameborder:"0",allowTransparency:"true",scrolling:"no"},null,8,["src"])])):A("v-if",!0),1===e.registerNavIndex?(n(),c("div",T,[m("div",E,[m("div",z,[Y,p(m("input",{class:"model-form-input",type:"text",placeholder:"请输入公司名称","onUpdate:modelValue":o[1]||(o[1]=o=>e.companyName=o),onChange:o[2]||(o[2]=o=>e.validateCtl("companyName")),onKeyup:o[3]||(o[3]=Q((o=>e.registerCtl()),["enter"]))},null,544),[[g,e.companyName]])]),m("div",K,[O,p(m("input",{class:"model-form-input",type:"text",placeholder:"请输入名字","onUpdate:modelValue":o[4]||(o[4]=o=>e.userName=o),onChange:o[5]||(o[5]=o=>e.validateCtl("userName")),onKeyup:o[6]||(o[6]=Q((o=>e.registerCtl()),["enter"]))},null,544),[[g,e.userName]])]),m("div",D,[Z,p(m("input",{class:"model-form-input",type:"text",placeholder:"请输入手机号","onUpdate:modelValue":o[7]||(o[7]=o=>e.phone=o),onChange:o[8]||(o[8]=o=>e.validateCtl("phone")),onKeyup:o[9]||(o[9]=Q((o=>e.registerCtl()),["enter"]))},null,544),[[g,e.phone]])]),m("div",F,[G,p(m("input",{class:"model-form-input",type:"text",placeholder:"手机验证码","onUpdate:modelValue":o[10]||(o[10]=o=>e.code=o),onChange:o[11]||(o[11]=o=>e.validateCtl("code")),onKeyup:o[12]||(o[12]=Q((o=>e.registerCtl()),["enter"]))},null,544),[[g,e.code]]),e.verificationCodeNumber>0?(n(),c("div",j," 还剩"+u(e.verificationCodeNumber)+"秒 ",1)):(n(),c("div",{key:1,class:["model-form-text-button",{"model-form-text-button-active":e.phone}],onClick:o[13]||(o[13]=(...o)=>e.sendVerifyCode&&e.sendVerifyCode(...o))}," 发送验证码 ",2))]),m("div",W,[m("div",{class:["model-form-context-label",{"model-form-context-label-active":e.isCheckProtocol}],onClick:o[14]||(o[14]=o=>e.updateIsCheckProtocol(!e.isCheckProtocol))},null,2),H]),m("div",J,[m("div",{class:"model-form-button",onClick:o[15]||(o[15]=o=>e.registerCtl())},"注册")])])])):A("v-if",!0),2===e.registerNavIndex?(n(),c("div",_,[m("div",$,[ee,oe,m("div",te,u(e.tipNumber)+"S之后开始跳转",1),m("div",{class:"model-tip-blue",onClick:o[16]||(o[16]=o=>e.toHome())},"无跳转点击此处")])])):A("v-if",!0)])])]))));b.render=se,b.__scopeId="data-v-0ef80526";export default b;
