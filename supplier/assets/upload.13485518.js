import{o as e}from"./index.9997e8f1.js";import{r as o,I as t}from"./vendor.54beb8e3.js";function n(n){const{files:r=[]}=n||{},s=r.length;let a=0;const c=[];return new Promise(((n,i)=>{r.length?async function l(){try{const i=new FormData;i.append("files",r[a]);const p=o.service({lock:!0,text:`上传文件${a+1}/${s}中...`,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),{success:m,message:d,data:f}=await((o={})=>e({url:"/supplier/common/uploadForm",headers:{"Content-Type":"multipart/form-data;"},data:o}))(i);if(p.close(),m){const{pics:e=[]}=f||{};if(e.length){const o=e[0]||{};c.push(o),a===s-1?n(c):(a++,l())}}else t.error(d),n([])}catch(p){throw i(p),new Error(p)}}():n([])}))}export{n as U};
