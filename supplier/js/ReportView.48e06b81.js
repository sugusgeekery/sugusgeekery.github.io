(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ReportView"],{"0c0b":function(t,e){t.exports="data:image/png;base64,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"},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var i=a("6b75");function n(t){if(Array.isArray(t))return Object(i["a"])(t)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0");function l(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var s=a("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return n(t)||l(t)||Object(s["a"])(t)||o()}},"4bb5":function(t,e,a){"use strict";a.d(e,"c",(function(){return l})),a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return c})),a.d(e,"d",(function(){return r}));var i=a("2fe1"),n=a("2f62"),l=p("computed",n["e"]),s=p("computed",n["c"]),o=p("methods",n["b"]),c=p("methods",n["d"]);function r(t,e){function a(e){function a(a,i){if("string"===typeof i){var n=i,l=a;return e(n,{namespace:t})(l,n)}var s=a,o=u(i||{},{namespace:t});return e(s,o)}return a}return e?(console.warn("[vuex-class] passing the 2nd argument to `namespace` function is deprecated. pass only namespace string instead."),a(e)):{State:a(l),Getter:a(s),Mutation:a(c),Action:a(o)}}function p(t,e){function a(a,n){return Object(i["a"])((function(i,l){i[t]||(i[t]={});var s,o=(s={},s[l]=a,s);i[t][l]=void 0!==n?e(n,o)[l]:e(o)[l]}))}function n(t,e){if("string"===typeof e){var i=e,n=t;return a(i,void 0)(n,i)}var l=v(e),s=t;return a(s,l)}return n}function v(t){var e=t&&t.namespace;if("string"===typeof e)return"/"!==e[e.length-1]?e+"/":e}function u(t,e){var a={};return[t,e].forEach((function(t){Object.keys(t).forEach((function(e){a[e]=t[e]}))})),a}},"4e2d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.reportList.length?i("div",{staticClass:"report"},[i("input",{attrs:{type:"file",name:"file",id:"file",hidden:"hidden",accept:"image/*"},on:{change:t.uploadFile}}),i("div",{staticClass:"items"},t._l(t.reportList,(function(e,n){return i("div",{key:n,staticClass:"item",class:{"item-green":2===e.state,"item-gray":e.required}},[i("div",{staticClass:"item-title"},[i("div",{staticClass:"item-title-text"},[t._v(" "+t._s(e.reportTitle)+" ")]),e.state||t.initInfo.type!==t.Supplier.Dfm?t._e():i("div",{staticClass:"item-title-select"},[i("el-checkbox",{staticClass:"item-title-select-box",on:{change:function(e){return t.updateReportData({index:n,name:"required",value:e})}},model:{value:e.required,callback:function(a){t.$set(e,"required",a)},expression:"a.required"}}),i("span",{staticClass:"item-title-select-span"},[t._v("标记为非必填项")])],1),2===e.state?i("img",{staticClass:"item-title-icon",attrs:{src:a("0c0b"),alt:""}}):3===e.state&&t.initInfo.type===t.Supplier.Dfm?i("div",{staticClass:"item-title-button",on:{click:function(e){return t.updateReportData({index:n,name:"state",value:0})}}},[t._v(" 修改 ")]):t._e()]),i("div",{staticClass:"item-row"},[i("div",{staticClass:"item-flex swiper-container",class:{"swiper-container-active":t.index===n},on:{click:function(a){!e.state&&t.initInfo.type===t.Supplier.Dfm&&(t.index=n,t.pasteType=1)}}},[e.fileList&&e.fileList.length?i("div",{staticClass:"swiper-wrapper"},[t._l(e.fileList,(function(a,l){return i("div",{key:l,staticClass:"swiper-slide",class:{"swiper-slide-large":e.fileList.length<3}},[i("el-image",{staticClass:"swiper-slide-image",attrs:{src:t.BASE_IMAGE_URL+a.filePath,"preview-src-list":t.getUrls(e.fileList)}}),e.state||t.initInfo.type!==t.Supplier.Dfm?t._e():i("div",{staticClass:"swiper-slide-delete",on:{click:function(e){return t.deleteReportFile({index:n,key:l})}}},[t._v(" + ")])],1)})),e.state||t.initInfo.type!==t.Supplier.Dfm?t._e():i("div",{staticClass:"swiper-slide",on:{click:function(e){t.index=n}}},[i("div",{staticClass:"swiper-slide-add",on:{click:function(e){return t.selectFile(n,1)}}},[t._v("+")])])],2):e.state||t.initInfo.type!==t.Supplier.Dfm?e.required?i("div",{staticClass:"swiper-tip"},[i("div",{staticClass:"swiper-tip-text swiper-tip-text-gray"},[t._v("该项已标记为非必填项")])]):t._e():i("div",{staticClass:"swiper-tip"},[i("div",{staticClass:"swiper-tip-text",on:{click:function(e){return t.selectFile(n,1)}}},[t._v("点击或ctrl+v粘贴上传图片")])])]),i("div",{staticClass:"item-flex",on:{click:function(a){!e.state&&t.initInfo.type===t.Supplier.Dfm&&(t.index=n,t.pasteType=2)}}},[i("div",{staticClass:"item-content"},[e.state||t.initInfo.type!==t.Supplier.Dfm?e.describe?i("div",{staticClass:"item-content-text item-content-line"},[t._v(t._s(e.describe))]):e.required?i("div",{staticClass:"item-content-text item-content-text-gray item-content-line"},[t._v("该项已标记为非必填项")]):t._e():i("div",{staticClass:"item-content-textarea"},[i("textarea",{attrs:{name:"",id:"",placeholder:"请填写报告描述",cols:"30",rows:"10"},domProps:{value:e.describe},on:{change:function(e){return t.updateReportData({index:n,name:"describe",value:e.target.value})}}})])]),!e.state||t.initInfo.type!==t.Supplier.Dfm&&t.initInfo.type!==t.Supplier.Design?t._e():i("div",{staticClass:"item-cells"},[e.machiningApprovalInfo?i("div",{staticClass:"item-cell"},[i("div",{staticClass:"item-cell-text item-cell-text-black"},[t._v("加工方：")]),0===e.machiningApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-red"},[t._v(" 已驳回 ")]):t._e(),0===e.machiningApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text",on:{click:function(a){return t.getReasonContent(e.machiningApprovalInfo)}}},[i("img",{staticClass:"item-cell-img",attrs:{src:a("7a1e")}}),i("span",{staticClass:"item-cell-text-blue"},[t._v("查看原因")])]):1===e.machiningApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-blue"},[t._v(" 通过 ")]):2===e.machiningApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-black"},[t._v(" 待确认 ")]):t._e()]):t._e(),e.injectionApprovalInfo?i("div",{staticClass:"item-cell"},[i("div",{staticClass:"item-cell-text item-cell-text-black"},[t._v("试模方：")]),0===e.injectionApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-red"},[t._v(" 已驳回 ")]):t._e(),0===e.injectionApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text",on:{click:function(a){return t.getReasonContent(e.injectionApprovalInfo)}}},[i("img",{staticClass:"item-cell-img",attrs:{src:a("7a1e")}}),i("span",{staticClass:"item-cell-text-blue"},[t._v("查看原因")])]):1===e.injectionApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-blue"},[t._v(" 通过 ")]):2===e.injectionApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-black"},[t._v(" 待确认 ")]):t._e()]):t._e(),e.customerApprovalInfo?i("div",{staticClass:"item-cell"},[i("div",{staticClass:"item-cell-text item-cell-text-black"},[t._v("客户方：")]),0===e.customerApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-red"},[t._v(" 已驳回 ")]):t._e(),0===e.customerApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text",on:{click:function(a){return t.getReasonContent(e.customerApprovalInfo)}}},[i("img",{staticClass:"item-cell-img",attrs:{src:a("7a1e")}}),i("span",{staticClass:"item-cell-text-blue"},[t._v("查看原因")])]):1===e.customerApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-blue"},[t._v(" 通过 ")]):2===e.customerApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-black"},[t._v(" 待确认 ")]):t._e()]):t._e()]),e.state&&t.initInfo.type===t.Supplier.Machining?i("div",{staticClass:"item-cells"},[e.injectionApprovalInfo?i("div",{staticClass:"item-cell"},[i("div",{staticClass:"item-cell-text item-cell-text-black"},[t._v("试模方：")]),0===e.injectionApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-red"},[t._v(" 已驳回 ")]):t._e(),0===e.injectionApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text",on:{click:function(a){return t.getReasonContent(e.injectionApprovalInfo)}}},[i("img",{staticClass:"item-cell-img",attrs:{src:a("7a1e")}}),i("span",{staticClass:"item-cell-text-blue"},[t._v("查看原因")])]):1===e.injectionApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-blue"},[t._v(" 通过 ")]):2===e.injectionApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-black"},[t._v(" 待确认 ")]):t._e()]):t._e(),e.customerApprovalInfo?i("div",{staticClass:"item-cell"},[i("div",{staticClass:"item-cell-text item-cell-text-black"},[t._v("客户方：")]),0===e.customerApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-red"},[t._v(" 已驳回 ")]):t._e(),0===e.customerApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text",on:{click:function(a){return t.getReasonContent(e.customerApprovalInfo)}}},[i("img",{staticClass:"item-cell-img",attrs:{src:a("7a1e")}}),i("span",{staticClass:"item-cell-text-blue"},[t._v("查看原因")])]):1===e.customerApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-blue"},[t._v(" 通过 ")]):2===e.customerApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-black"},[t._v(" 待确认 ")]):t._e()]):t._e(),e.machiningApprovalInfo?i("div",{staticClass:"item-cell"},[i("div",{staticClass:"item-cell-text item-cell-text-black"},[t._v("加工方：")]),0===e.machiningApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-red"},[t._v(" 已驳回 ")]):t._e(),0===e.machiningApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text",on:{click:function(a){return t.getReasonContent(e.machiningApprovalInfo)}}},[i("img",{staticClass:"item-cell-img",attrs:{src:a("7a1e")}}),i("span",{staticClass:"item-cell-text-blue"},[t._v("查看原因")])]):1===e.machiningApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-blue"},[t._v(" 通过 ")]):t._e()]):t._e(),e.machiningApprovalInfo&&2===e.machiningApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell"},[i("div",{staticClass:"item-cell-li",on:{click:function(e){return t.updateReportData({index:n,text:"machiningApprovalInfo",name:"opinion",value:1})}}},[i("div",{staticClass:"item-cell-li-label",class:{"item-cell-li-label-active":1===e.machiningApprovalInfo.opinion}}),i("div",{staticClass:"item-cell-li-text"},[t._v(" 确认 ")])]),i("div",{staticClass:"item-cell-li",on:{click:function(e){return t.updateReportData({index:n,text:"machiningApprovalInfo",name:"opinion",value:0})}}},[i("div",{staticClass:"item-cell-li-label",class:{"item-cell-li-label-active":0===e.machiningApprovalInfo.opinion}}),i("div",{staticClass:"item-cell-li-text"},[t._v("驳回")])]),i("div",{staticClass:"item-cell-li"},[i("div",{staticClass:"item-cell-li-button item-cell-li-button-blue",on:{click:function(e){return t.approvalDfmReport({index:n})}}},[t._v(" 确定 ")])])]):t._e(),e.machiningApprovalInfo&&2===e.machiningApprovalInfo.approvalStatus&&0===e.machiningApprovalInfo.opinion?i("div",{staticClass:"form-container"},[i("div",{staticClass:"form-wrapper"},[i("div",{staticClass:"form-content"},[i("div",{staticClass:"form-textarea"},[i("textarea",{attrs:{name:"",id:"",placeholder:"请填写驳回原因",cols:"30",rows:"10"},domProps:{value:e.machiningApprovalInfo.approvalContent},on:{change:function(e){return t.updateReportData({index:n,text:"machiningApprovalInfo",name:"approvalContent",value:e.target.value})}}})]),i("div",{staticClass:"form-list"},t._l(e.machiningApprovalInfo.approvalFiles,(function(e,a){return i("div",{key:a,staticClass:"form-li"},[i("div",{staticClass:"form-li-text"},[t._v(t._s(e.fileName))]),i("div",{staticClass:"form-li-del",on:{click:function(e){return t.deleteReportApprovalFile({index:n,text:"machiningApprovalInfo",name:"approvalFiles",key:a})}}},[t._v("+")])])})),0)]),i("div",{staticClass:"form-add",on:{click:function(e){return t.selectFile(n,2)}}},[i("img",{staticClass:"form-add-img",attrs:{src:a("dd40"),alt:""}})])])]):t._e()]):t._e(),e.state&&t.initInfo.type===t.Supplier.Injection?i("div",{staticClass:"item-cells"},[e.machiningApprovalInfo?i("div",{staticClass:"item-cell"},[i("div",{staticClass:"item-cell-text item-cell-text-black"},[t._v("加工方：")]),0===e.machiningApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-red"},[t._v(" 已驳回 ")]):t._e(),0===e.machiningApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text",on:{click:function(a){return t.getReasonContent(e.machiningApprovalInfo)}}},[i("img",{staticClass:"item-cell-img",attrs:{src:a("7a1e")}}),i("span",{staticClass:"item-cell-text-blue"},[t._v("查看原因")])]):1===e.machiningApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-blue"},[t._v(" 通过 ")]):2===e.machiningApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-black"},[t._v(" 待确认 ")]):t._e()]):t._e(),e.customerApprovalInfo?i("div",{staticClass:"item-cell"},[i("div",{staticClass:"item-cell-text item-cell-text-black"},[t._v("客户方：")]),0===e.customerApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-red"},[t._v(" 已驳回 ")]):t._e(),0===e.customerApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text",on:{click:function(a){return t.getReasonContent(e.customerApprovalInfo)}}},[i("img",{staticClass:"item-cell-img",attrs:{src:a("7a1e")}}),i("span",{staticClass:"item-cell-text-blue"},[t._v("查看原因")])]):1===e.customerApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-blue"},[t._v(" 通过 ")]):2===e.customerApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-black"},[t._v(" 待确认 ")]):t._e()]):t._e(),e.injectionApprovalInfo?i("div",{staticClass:"item-cell"},[i("div",{staticClass:"item-cell-text item-cell-text-black"},[t._v("试模方：")]),0===e.injectionApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-red"},[t._v(" 已驳回 ")]):t._e(),0===e.injectionApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text",on:{click:function(a){return t.getReasonContent(e.injectionApprovalInfo)}}},[i("img",{staticClass:"item-cell-img",attrs:{src:a("7a1e")}}),i("span",{staticClass:"item-cell-text-blue"},[t._v("查看原因")])]):1===e.injectionApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell-text item-cell-text-blue"},[t._v(" 通过 ")]):t._e()]):t._e(),e.injectionApprovalInfo&&2===e.injectionApprovalInfo.approvalStatus?i("div",{staticClass:"item-cell"},[i("div",{staticClass:"item-cell-li",on:{click:function(e){return t.updateReportData({index:n,text:"injectionApprovalInfo",name:"opinion",value:1})}}},[i("div",{staticClass:"item-cell-li-label",class:{"item-cell-li-label-active":1===e.injectionApprovalInfo.opinion}}),i("div",{staticClass:"item-cell-li-text"},[t._v("确认")])]),i("div",{staticClass:"item-cell-li",on:{click:function(e){return t.updateReportData({index:n,text:"injectionApprovalInfo",name:"opinion",value:0})}}},[i("div",{staticClass:"item-cell-li-label",class:{"item-cell-li-label-active":0===e.injectionApprovalInfo.opinion}}),i("div",{staticClass:"item-cell-li-text"},[t._v("驳回")])]),i("div",{staticClass:"item-cell-li"},[i("div",{staticClass:"item-cell-li-button item-cell-li-button-blue",on:{click:function(e){return t.approvalDfmReport({index:n})}}},[t._v(" 确定 ")])])]):t._e(),e.injectionApprovalInfo&&2===e.injectionApprovalInfo.approvalStatus&&0===e.injectionApprovalInfo.opinion?i("div",{staticClass:"form-container"},[i("div",{staticClass:"form-wrapper"},[i("div",{staticClass:"form-content"},[i("div",{staticClass:"form-textarea"},[i("textarea",{attrs:{name:"",id:"",placeholder:"请填写驳回原因",cols:"30",rows:"10"},domProps:{value:e.injectionApprovalInfo.approvalContent},on:{change:function(e){return t.updateReportData({index:n,text:"injectionApprovalInfo",name:"approvalContent",value:e.target.value})}}})]),i("div",{staticClass:"form-list"},t._l(e.injectionApprovalInfo.approvalFiles,(function(e,a){return i("div",{key:a,staticClass:"form-li"},[i("div",{staticClass:"form-li-text"},[t._v(t._s(e.fileName))]),i("div",{staticClass:"form-li-del",on:{click:function(e){return t.deleteReportApprovalFile({index:n,text:"injectionApprovalInfo",name:"approvalFiles",key:a})}}},[t._v("+")])])})),0)]),i("div",{staticClass:"form-add",on:{click:function(e){return t.selectFile(n,2)}}},[i("img",{staticClass:"form-add-img",attrs:{src:a("dd40"),alt:""}})])])]):t._e()]):t._e()])])])})),0),t.initInfo.type===t.Supplier.Dfm?i("div",{staticClass:"footer-buttons"},[i("div",{staticClass:"footer-button",on:{click:function(e){return t.commitReport({type:1})}}},[t._v("暂存")]),i("div",{staticClass:"footer-button footer-button-blue",on:{click:function(e){return t.commitReport({type:2})}}},[t._v("提交")])]):t._e(),i("ReasonContent",{attrs:{data:t.reasonContent},on:{updateData:t.updateReasonContent}})],1):t._e()},n=[],l=(a("99af"),a("caad"),a("2532"),a("2909")),s=a("b85c"),o=(a("96cf"),a("1da1")),c=a("d4ec"),r=a("bee2"),p=a("262e"),v=a("2caf"),u=a("9ab4"),m=a("60a3"),d=a("4bb5"),f=a("5d99"),A=a("b6fd"),g=a("e4d3"),C=a("2de2"),x=a("8263"),b=a("5c96"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"show",rawName:"v-show",value:t.data.isShow,expression:"data.isShow"}],staticClass:"model-container"},[a("div",{staticClass:"model-wrapper"},[a("div",{staticClass:"model-header"},[a("div",{staticClass:"model-title"},[a("div",{staticClass:"model-title-text"},[t._v(" "+t._s(t.data.title||"")+" ")])]),a("div",{staticClass:"model-cancel",on:{click:function(e){return t.updateData({isShow:!1})}}})]),a("div",{staticClass:"model-body"},[t.data.content?a("div",{staticClass:"model-content"},[t._v(t._s(t.data.content))]):t._e(),a("div",{staticClass:"model-list"},t._l(t.data.fileList,(function(t,e){return a("div",{key:e,staticClass:"model-li"},[a("img",{staticClass:"model-li-image",attrs:{src:t.filePath,alt:""}})])})),0)])])])},y=[],I=a("5530"),k=function(t){Object(p["a"])(a,t);var e=Object(v["a"])(a);function a(){return Object(c["a"])(this,a),e.apply(this,arguments)}return Object(r["a"])(a,[{key:"updateData",value:function(t){return Object(I["a"])(Object(I["a"])({},this.data),t)}}]),a}(m["d"]);Object(u["a"])([Object(m["c"])(Object)],k.prototype,"data",void 0),Object(u["a"])([Object(m["b"])("updateData")],k.prototype,"updateData",null),k=Object(u["a"])([Object(m["a"])({name:"ReasonContentComponent",components:{}})],k);var R=k,j=R,O=(a("6707"),a("2877")),w=Object(O["a"])(j,h,y,!1,null,"2f55475e",null),S=w.exports,D=Object(d["d"])("order/report"),_=D.State,L=(D.Getter,D.Action),z=D.Mutation,X=function(t){Object(p["a"])(a,t);var e=Object(v["a"])(a);function a(){var t;return Object(c["a"])(this,a),t=e.apply(this,arguments),t.Supplier=f["a"],t.BASE_IMAGE_URL=C["c"],t.index=-1,t.pasteType=0,t}return Object(r["a"])(a,[{key:"created",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getDfmReportList();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"mounted",value:function(){document.addEventListener("paste",this.handlePaste)}},{key:"beforeDestroy",value:function(){document.removeEventListener("paste",this.handlePaste)}},{key:"selectFile",value:function(t,e){this.index=t,this.pasteType=e,console.log(1212);var a=document.querySelector("#file");a.click()}},{key:"uploadFile",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,i,n,l,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.target.files,t.next=3,Object(x["a"])({files:a});case 3:i=t.sent,n=Object(s["a"])(i);try{for(n.s();!(l=n.n()).done;)o=l.value,this.updateReport(o)}catch(c){n.e(c)}finally{n.f()}e.target.value=null;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"handlePaste",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,i,n,l,c,r,p,v,u,m,d,A,g,C,h,y,I=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this.reportList,i=this.index,n=void 0===i?-1:i,l=this.pasteType,c=void 0===l?0:l,r=this.initInfo,p=e||window,v=p.clipboardData,u=v||{},m=u.items,m&&m.length){t.next=5;break}return t.abrupt("return");case 5:if(-1!==n){t.next=8;break}return b["Message"].error("请选择你需要粘贴的地方"),t.abrupt("return");case 8:d=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,i,n,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(x["a"])({files:[e]});case 2:a=t.sent,i=Object(s["a"])(a);try{for(i.s();!(n=i.n()).done;)l=n.value,I.updateReport(l)}catch(o){i.e(o)}finally{i.f()}case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(t){if(1===c)I.updateReportData({index:n,name:"describe",value:t});else switch(r.type){case f["a"].Dfm:break;case f["a"].Machining:var e=a[n]||{};e.approvalContent=t,I.updateReportData({index:n,name:"machiningApprovalInfo",value:e});break;case f["a"].Injection:var i=a[n]||{};i.approvalContent=t,I.updateReportData({index:n,name:"injectionApprovalInfo",value:i});break}},g=0,C=m.length;case 11:if(!(g<C)){t.next=24;break}if(h=m[g].type,!h.includes("image")){t.next=19;break}return y=m[g].getAsFile(),y&&d(y),t.abrupt("break",24);case 19:return m[g].getAsString((function(t){t&&A(t)})),t.abrupt("break",24);case 21:g++,t.next=11;break;case 24:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getUrls",value:function(t){var e=[];if(t&&t.length){var a,i=Object(s["a"])(t);try{for(i.s();!(a=i.n()).done;){var n=a.value,l=n.filePath,o=void 0===l?"":l;o&&e.push(C["c"]+o)}}catch(c){i.e(c)}finally{i.f()}}return e}},{key:"updateReport",value:function(t){var e=this.reportList,a=this.index,i=this.pasteType,n=this.initInfo,s=t||{},o=s.filePath,c=s.fileName,r=s.id,p={filePath:o,fileName:c,fileId:r};if(console.log(i),1===i){var v=e[a]||{},u=v.fileList,m=void 0===u?[]:u;e[a].fileList=[].concat(Object(l["a"])(m||[]),[p]),this.updateReportList(e)}else if(2===i){switch(n.type){case f["a"].Dfm:break;case f["a"].Machining:var d=e[a].machiningApprovalInfo||{},A=d.approvalFiles,g=void 0===A?[]:A;e[a].machiningApprovalInfo.approvalFiles=[].concat(Object(l["a"])(g||[]),[p]);break;case f["a"].Injection:var C=e[a].injectionApprovalInfo||{},x=C.approvalFiles,b=void 0===x?[]:x;e[a].injectionApprovalInfo.approvalFiles=[].concat(Object(l["a"])(b||[]),[p]);break}this.updateReportList(e)}}}]),a}(m["d"]);Object(u["a"])([_("initInfo")],X.prototype,"initInfo",void 0),Object(u["a"])([_("reportList")],X.prototype,"reportList",void 0),Object(u["a"])([_("timestamp")],X.prototype,"timestamp",void 0),Object(u["a"])([_("reasonContent")],X.prototype,"reasonContent",void 0),Object(u["a"])([L(A["a"].GetDfmReportList)],X.prototype,"getDfmReportList",void 0),Object(u["a"])([L(A["a"].UpdateReportData)],X.prototype,"updateReportData",void 0),Object(u["a"])([L(A["a"].CommitReport)],X.prototype,"commitReport",void 0),Object(u["a"])([L(A["a"].ApprovalDfmReport)],X.prototype,"approvalDfmReport",void 0),Object(u["a"])([L(A["a"].DeleteReportFile)],X.prototype,"deleteReportFile",void 0),Object(u["a"])([L(A["a"].DeleteReportApprovalFile)],X.prototype,"deleteReportApprovalFile",void 0),Object(u["a"])([L(A["a"].GetReasonContent)],X.prototype,"getReasonContent",void 0),Object(u["a"])([z(g["a"].UpdateReportList)],X.prototype,"updateReportList",void 0),Object(u["a"])([z(g["a"].UpdateReasonContent)],X.prototype,"updateReasonContent",void 0),X=Object(u["a"])([Object(m["a"])({name:"ReportView",components:{ReasonContent:S}})],X);var F=X,E=F,U=(a("6e81"),Object(O["a"])(E,i,n,!1,null,"f970d5e2",null));e["default"]=U.exports},6707:function(t,e,a){"use strict";var i=a("b2d4"),n=a.n(i);n.a},"6e81":function(t,e,a){"use strict";var i=a("d174"),n=a.n(i);n.a},"7a1e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAaCAYAAACkVDyJAAACVklEQVRIS72Wz08TURDHv9OKIrsVNPGg1WhEPapHWTTxaLxhQozxR/EfUDm5DTEhJrBbUw8absRoouKBaLjKFXfLBQ/GAyb0QuzBcFG6aylhd8guLGnL/mjthnd87818ZubNvBlCwLoi/znM6Lhlg28QcAHAMQAE4DeA7yD+kgQ+zimplSAdfvuOgrp1bZQ716vmQ9jIgtATrowMAHlxoys/myezGXAdUBqpnMKGNQPCpWaEa+4sMtkDBeXQYpTcDtCFWdYcgJNRQgHnKwxLKqjdS2HyLtAN45o5D+Dif8I8sR9kVyTt+dFykB4X2C+XnzHoaZswV5wIqqaI2UCgk402OpYBFsOAuiq6xkmywRGGVTiZOFcY6yr5Zml/1sgw422Udy0AQUwjWk4Y9wfK5c8MGogTCNBXXRWu+gIl2VhuJjNb8RDAqq6K3UHAKoD9jYdVXu9ZyB35G+V50JtWOwVhYZT+NcqTJBurAFJ7CfwJ4HyUJ7GFtO+J+YmIb8YLDE+aIQBv4gSGlsWeF37cXxuAnK6Kcuhf2jfMBxMHzHnearTtrnfpovBgepos3zr0Ni/LldMJuO3pRLtEAIHQuga8DZ2JoU05Nr9PF4WhRk/9R4w18xEYcnMjhv0CoLMA7vhE5kO6KGRqobuAntBW9iZvM+i63xDFjNl9CZ5yhqjBQU6Wek2ntO7t+soIU8eXhPseNBDY6jtGQTVFuAuncbWqOOy+A/3Va74mIFNzj5kxXMiJL529WIGOwgYog/ixrqReeQbEDvSgpTPmJBF/09TURG1UNgEvGBUqLMSm8AAAAABJRU5ErkJggg=="},8263:function(t,e,a){"use strict";a("d3b7"),a("96cf");var i=a("1da1"),n=a("2c17"),l=a("5c96"),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["a"])({url:"/supplier/common/uploadForm",headers:{"Content-Type":"multipart/form-data;"},data:t})};e["a"]=function(t){var e=t||{},a=e.files,n=void 0===a?[]:a,o=n.length,c=0,r=[];return new Promise((function(t,e){function a(){return p.apply(this,arguments)}function p(){return p=Object(i["a"])(regeneratorRuntime.mark((function i(){var p,v,u,m,d,f,A,g,C;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,p=new FormData,p.append("files",n[c]),i.next=5,s(p);case 5:v=i.sent,u=v.success,m=v.message,d=v.data,u?(f=d||{},A=f.pics,g=void 0===A?[]:A,g.length&&(C=g[0]||{},r.push(C),c===o-1?t(r):(c++,a()))):(l["Message"].error(m),t([])),i.next=16;break;case 12:throw i.prev=12,i.t0=i["catch"](0),e(i.t0),new Error(i.t0);case 16:case"end":return i.stop()}}),i,null,[[0,12]])}))),p.apply(this,arguments)}n.length?a():t([])}))}},b2d4:function(t,e,a){},d174:function(t,e,a){},dd40:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAAihJREFUaIHt2r2KFEEUBeCvh01kDXYGVt1kDUzEDfwDEbMF1wfQXATxEfQNTHwEfwIjQcwVFTQSEzEQw0kMTISdQEQDYQy6G3p7u6f/nO2pZU5SdNFz55y5t09V3Z5oPB5P7UWUjCHMT1cyN+QRxPzAfmVBYdA3ga4IXUAUugAD5Q9NCJgGn4EVsQvtycJkMumHzQwMh8PC+UORgVlYlDWidHE7FBmo40J9OVVVBYTvQsu9UN/oU8AmXuNnMm62iNGrCz3BDo4m49M2QfrcC13OXV9pEaNXF/qYu/7QJkgXFzqLLzjX8vO38Ra/kvFWmyBVW4kyrOElNvAKZ7DbMMY3ce13QpsSWhP/Yhv4i+N4g1FXMi3Q2IVS8hfxCafxGRf0JKKJC+XJ72CMq5qLOImHWG/IN4/aLlREPj317Gom4pLYge7gnY4i6rpQGfkUdUXcwHucwB9s6SiibgZmkU9RJeIunuMIHuMUvuoooq6AKvIpikQcwyM8SO65Jy6f79jWTUQUJc3dskN9Wl6jGuSzGInL7rx4oVrFb9zEi9y962LyW2Ix2/iR+/5o1qG+jgs1bVNkM7GazF23nzwx2baZmOteKCsC7it3p9Yi5n0ia2KxRSIqcRC70S4iKnFQ2+m2IqpwoCeyvIhnM+5NRVSibl9oHs/Jtf8QN/y+UGF3OoOFf3dQeCIrW/UWEaGXUPjd6eU7sr6x7E73jdAFRNl1YJH+RlN7/h/bpZsLle6nKgAAAABJRU5ErkJggg=="}}]);