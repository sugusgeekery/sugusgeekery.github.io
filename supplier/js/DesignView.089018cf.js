(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DesignView"],{"0039":function(e,t,i){},"0eb9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcAQMAAABIw03XAAAABlBMVEUAAAA6ePTRrRxyAAAAAXRSTlMAQObYZgAAABhJREFUCNdjQAD7//+hhAEDM20IhB3YAACzlgyLcpDghgAAAABJRU5ErkJggg=="},"4bb5":function(e,t,i){"use strict";i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c})),i.d(t,"d",(function(){return r}));var n=i("2fe1"),a=i("2f62"),o=p("computed",a["e"]),s=p("computed",a["c"]),l=p("methods",a["b"]),c=p("methods",a["d"]);function r(e,t){function i(t){function i(i,n){if("string"===typeof n){var a=n,o=i;return t(a,{namespace:e})(o,a)}var s=i,l=u(n||{},{namespace:e});return t(s,l)}return i}return t?(console.warn("[vuex-class] passing the 2nd argument to `namespace` function is deprecated. pass only namespace string instead."),i(t)):{State:i(o),Getter:i(s),Mutation:i(c),Action:i(l)}}function p(e,t){function i(i,a){return Object(n["a"])((function(n,o){n[e]||(n[e]={});var s,l=(s={},s[o]=i,s);n[e][o]=void 0!==a?t(a,l)[o]:t(l)[o]}))}function a(e,t){if("string"===typeof t){var n=t,a=e;return i(n,void 0)(a,n)}var o=d(t),s=e;return i(s,o)}return a}function d(e){var t=e&&e.namespace;if("string"===typeof t)return"/"!==t[t.length-1]?t+"/":t}function u(e,t){var i={};return[e,t].forEach((function(e){Object.keys(e).forEach((function(t){i[t]=e[t]}))})),i}},"5a0c":function(e,t,i){"use strict";var n=i("ad74"),a=i.n(n);a.a},"5caa":function(e,t,i){"use strict";i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d");function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e){var i=document.createElement("a");i.download=t,i.href=e,document.body.appendChild(i),i.click(),i.remove()}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e&&fetch(e,{headers:new Headers({Origin:location.origin}),mode:"cors"}).then((function(e){return console.log(e),e.blob()})).then((function(e){console.log(e);var i=window.URL.createObjectURL(e);n(i,t),window.URL.revokeObjectURL(i)}))}t["a"]=a},"85e6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAxlBMVEUAU9oAUtkAUtkAUdkAUdoAUtkAUtoAUdoAUdkAUdkAUtkAUtkAUtkAUtkAUtkAU9kAUtkAUNkATdj///8AStgPW9uWuPAwcuEHVdr8/v/k7fve6fqwyfNhlOhQieUdZd7u8/2gv/GNse5FgeQ4eOImbN8aYt0WYd3z9/3H2fepxfOIr+1rm+krb+Ahad4LWdv3+v7o8PzR4PjM3ffA1faAqu1xn+tomelXjeZLheRBfuPY5fnW4/m+0/W4z/W2zfRzoOo/feLmwPexAAAAEHRSTlPu7+S5dPzbUfHZmXPy3LeaycxD5gAAAT5JREFUKM9909duwzAMBVDFdnaHSMl77+y9u///pyqgho04du+ToANCBEiRviJLpCGSrPTJeDSkjRmOxkTudZux25OJRFsjkUE7DkinfgXIOQcq0mlAQMQCSb2O5ks9ValgUkfE3JtrJx3wAQFRjbX3wIkpf0Bht/nOZB9XygEElh0iADf049RklpYUWHWIaKSLw4RZoZeXbwKs0+Sm5wC+6wQscC6ZuCsQcXUOncjzM2+2ZZOvxQoQaIEcdW3L7PDsajbbTL91A5FWuIxsxqz91DbN/TwxEKBExOyi7SZMxHyLYvWvrmzI8OPjYSPQCq/CoEIRxHVycuzAmrkZckrvEISmXvQ5c31xrLAYGQCoPwt3CUUz5TyLWlBXvoGCKhzcTVlQlSciVYj8HiUiP/+zmsprr22plfbv8KL0fwG/NDcfEEM+XgAAAABJRU5ErkJggg=="},a1cc:function(e,t,i){"use strict";var n=i("0039"),a=i.n(n);a.a},ad74:function(e,t,i){},cc46:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.design.stepInfoList&&e.design.stepInfoList.length?i("div",{staticClass:"design"},[e._l(e.design.stepInfoList,(function(t,n){return i("div",{key:"_方案设计步骤_"+n,staticClass:"design-item"},[i("div",{staticClass:"design-item-label"},[i("div",{staticClass:"design-item-label-number",class:{"design-item-label-number-gray":0===t.approveStatus,"design-item-label-number-blue":1===t.approveStatus,"design-item-label-number-white":t.approveStatus>1}},[e._v(" "+e._s(n+1)+" ")]),n<e.design.stepInfoList.length-1?i("div",{staticClass:"design-item-label-line",class:{"design-item-label-line-blue":t.approveStatus>0,"design-item-label-line-gray":0===t.approveStatus}}):e._e()]),i("div",{staticClass:"design-item-content"},[i("div",{staticClass:"design-item-content-text"},[e.Supplier.Dfm===e.initInfo.type?i("span",{staticClass:"design-item-content-text-blue design-item-content-text-pointer",on:{click:function(i){n>0&&t.approveStatus>1&&e.alertModel({label:n+1,isEdit:!1})}}},[e._v(" "+e._s(2===t.approveStatus||3===t.approveStatus?"查看":"")+e._s(t.stepName)+" ")]):e._e(),e.Supplier.Design===e.initInfo.type?i("span",{staticClass:"design-item-content-text-blue design-item-content-text-pointer",on:{click:function(i){n>0&&t.canUse&&e.alertModel({label:n+1,isEdit:t.approveStatus<3})}}},[e._v(" "+e._s(3!==t.approveStatus?n>0?"导入":"上传":3===t.approveStatus?"查看":"")+e._s(t.stepName)+" ")]):e._e(),e.Supplier.Machining===e.initInfo.type||e.Supplier.Injection===e.initInfo.type?i("span",{staticClass:"design-item-content-text-blue design-item-content-text-pointer",on:{click:function(i){n>0&&t.approveStatus>0&&e.alertModel({label:n+1,isEdit:1===t.approveStatus})}}},[e._v(" "+e._s(1===t.approveStatus?"验收":t.approveStatus>1?"查看":"")+e._s(t.stepName)+" ")]):e._e(),t.fileName?i("span",{staticClass:"design-item-content-text-blue design-item-content-text-pointer"},[e._v(" "+e._s(t.fileName||"")+" ")]):e._e(),t.filePath?i("span",{staticClass:"design-item-content-text-gray design-item-content-text-pointer",on:{click:function(i){return e.downloadFile(t.filePath,t.fileName)}}},[e._v(" 下载 ")]):e._e(),t.fileTime?i("span",{staticClass:"design-item-content-text-gray"},[e._v(" "+e._s(t.fileTime||"")+" ")]):e._e()]),e._l(t.approvalInfoList,(function(t,n){return i("div",{key:"_方案设计步骤详情对应处理方_"+n,staticClass:"design-item-content-text"},[1==t.type?i("span",{staticClass:"design-item-content-text-black"},[e._v(" 加工方： ")]):2==t.type?i("span",{staticClass:"design-item-content-text-black"},[e._v(" 注塑方： ")]):e._e(),0===t.opinion?i("span",{staticClass:"design-item-content-text-red"},[e._v(" 驳回 ")]):e._e(),0===t.opinion?i("span",{staticClass:"design-item-content-text-blue design-item-content-text-pointer",on:{click:function(i){return e.alertMessage(t.cause)}}},[e._v(" 查看详情 ")]):1===t.opinion?i("span",{staticClass:"design-item-content-text-green"},[e._v(" 验收通过 ")]):e._e(),i("span",{staticClass:"design-item-content-text-gray"},[e._v(e._s(t.approvalTime||""))])])})),e.Supplier.Design!==e.initInfo.type||!t.canUse||0!==t.approveStatus&&2!==t.approveStatus||0!==n?e._e():i("div",{staticClass:"design-item-content-button"},[i("input",{attrs:{type:"file",name:"file",id:"file",hidden:"hidden",accept:".step, .stp, .stl"},on:{change:e.uploadFile}}),i("span",{staticClass:"design-item-content-button-text",on:{click:function(t){return e.checkFile()}}},[e._v(" 点击上传 ")])]),e.Supplier.Machining!==e.initInfo.type&&e.Supplier.Injection!==e.initInfo.type||1!==t.approveStatus||0!==n||!t.isEdit?e._e():i("div",{staticClass:"design-item-content-button"},[i("span",{staticClass:"design-item-content-button-text design-item-content-button-text-blue",on:{click:function(t){return e.approvalDesign({opinion:1,role:e.Supplier.Machining===e.initInfo.type?1:e.Supplier.Injection===e.initInfo.type?2:0})}}},[e._v("通过")]),i("span",{staticClass:"design-item-content-button-text",on:{click:function(t){return e.approvalDesign({opinion:0,role:e.Supplier.Machining===e.initInfo.type?1:e.Supplier.Injection===e.initInfo.type?2:0})}}},[e._v("驳回")])])],2)])})),i("BOMTableModel"),i("BOMImageInfoModel")],2):e._e()},a=[],o=(i("96cf"),i("1da1")),s=i("d4ec"),l=i("bee2"),c=i("262e"),r=i("2caf"),p=i("9ab4"),d=i("60a3"),u=i("4bb5"),m=i("5d99"),f=i("d2d7"),v=i("5caa"),g=i("5c96"),b=i("79f6"),h=i("2de2"),I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.BOMTable.isShow,expression:"BOMTable.isShow"}],staticClass:"model-container"},[i("div",{staticClass:"model-wrapper"},[i("div",{staticClass:"model-header"},[i("div",{staticClass:"model-title"},[e.Supplier.Design===e.initInfo.type?i("div",{staticClass:"model-title-text"},[e._v(" 导入BOM表 ")]):e.Supplier.Dfm===e.initInfo.type?i("div",{staticClass:"model-title-text"},[e._v(" 查看BOM表 ")]):e.Supplier.Machining===e.initInfo.type||e.Supplier.Injection===e.initInfo.type?i("div",{staticClass:"model-title-text"},[e._v(" 验收BOM表 ")]):e._e()]),i("div",{staticClass:"model-cancel",on:{click:function(t){return e.updateBOMTable({isShow:!1})}}})]),i("div",{staticClass:"model-body"},[i("div",{staticClass:"model-row"},[e.Supplier.Design===e.initInfo.type&&e.BOMTable.isEdit?i("div",{staticClass:"model-flex"},[i("input",{attrs:{type:"file",name:"file",id:"file",hidden:"hidden",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"},on:{change:e.uploadFile}}),i("div",{staticClass:"model-button",on:{click:function(t){return e.checkFile()}}},[e._v("导入BOM表")])]):i("div",{staticClass:"model-flex"}),e.design.stepInfoList[1].filePath?i("div",{staticClass:"model-flex"},[e.design.stepInfoList[1].fileName?i("div",{staticClass:"model-text model-text-blue"},[e._v(e._s(e.design.stepInfoList[1].fileName))]):e._e(),i("div",{staticClass:"model-text model-text-hover",on:{click:function(t){return e.downloadFile(e.design.stepInfoList[1].filePath,e.design.stepInfoList[1].fileName)}}},[e._v("下载")])]):e._e()]),i("div",{staticClass:"model-table"},[i("div",{staticClass:"model-table-box"},[i("table",[e._m(0),e._l(e.BOMTable.list,(function(t,n){return i("tr",{key:"_BOM表_"+n},[i("td",[e._v(e._s(n+1))]),i("td",[e._v(e._s(t.partName))]),i("td",[e._v(e._s(t.partCode))]),i("td",[e._v(e._s(t.type))]),i("td",[e._v(e._s(t.referenceStandard))]),i("td",[e._v(e._s(t.heatTreatment))]),i("td",[e._v(e._s(t.material))]),i("td",[e._v(e._s(t.weight))]),i("td",[e._v(e._s(t.orderingStandard))]),i("td",[e._v(e._s(t.num))])])}))],2)]),i("div",{staticClass:"model-table-footer"},[i("el-pagination",{attrs:{"current-page":e.BOMTable.pageNo,"page-sizes":e.BOMTable.pageSizes,"page-size":e.BOMTable.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.BOMTable.total},on:{"size-change":e.updatePageSize,"current-change":e.updatePageNum}})],1)]),e.Supplier.Machining!==e.initInfo.type&&e.Supplier.Injection!==e.initInfo.type||!e.BOMTable.isEdit?i("div",{staticClass:"model-buttons"},[i("div",{staticClass:"model-button model-button-blue",on:{click:function(t){return e.updateBOMTable({isShow:!1})}}},[e._v("确定")])]):i("div",{staticClass:"model-buttons"},[i("div",{staticClass:"model-button model-button-blue",on:{click:function(t){return e.approvalBom({cause:"",opinion:1,role:e.Supplier.Machining===e.initInfo.type?1:e.Supplier.Injection===e.initInfo.type?2:0})}}},[e._v(" 通过 ")]),i("div",{staticClass:"model-button",on:{click:function(t){return e.approvalBom({cause:"",opinion:0,role:e.Supplier.Machining===e.initInfo.type?1:e.Supplier.Injection===e.initInfo.type?2:0})}}},[e._v(" 驳回 ")])])])])])},_=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("th",[e._v("序号")]),i("th",[e._v("零件名称")]),i("th",[e._v("零件编号")]),i("th",[e._v("类型")]),i("th",[e._v("参考规格")]),i("th",[e._v("热处理")]),i("th",[e._v("材质")]),i("th",[e._v("重量")]),i("th",[e._v("订料规格")]),i("th",[e._v("数量")])])}],O=i("46c5"),y=Object(u["d"])("order/design"),M=y.State,A=(y.Getter,y.Action),S=y.Mutation,k=function(e){Object(c["a"])(i,e);var t=Object(r["a"])(i);function i(){var e;return Object(s["a"])(this,i),e=t.apply(this,arguments),e.Supplier=m["a"],e}return Object(l["a"])(i,[{key:"downloadFile",value:function(e,t){e&&Object(v["a"])(e,t)}},{key:"checkFile",value:function(){var e=document.querySelector("#file");e.click()}},{key:"uploadFile",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var i,n,a,o,s,l,c,r,p,d,u,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i=t.target.files[0],n=new FormData,n.append("files",i),e.next=6,Object(b["f"])(n);case 6:a=e.sent,o=a.success,s=a.message,l=a.data,o?(c=l||{},r=c.pics,p=void 0===r?[]:r,d=p[0],u=d.filePath,void 0===u?"":u,d.fileName,m=d.id,this.importBom(m)):g["Message"].error(s),t.target.value=null,e.next=17;break;case 14:throw e.prev=14,e.t0=e["catch"](0),new Error(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));function t(t){return e.apply(this,arguments)}return t}()}]),i}(d["d"]);Object(p["a"])([M("initInfo")],k.prototype,"initInfo",void 0),Object(p["a"])([M("design")],k.prototype,"design",void 0),Object(p["a"])([M("BOMTable")],k.prototype,"BOMTable",void 0),Object(p["a"])([A(f["a"].UpdateBOMPageNum)],k.prototype,"updatePageNum",void 0),Object(p["a"])([A(f["a"].UpdateBOMPageSize)],k.prototype,"updatePageSize",void 0),Object(p["a"])([A(f["a"].ImportBom)],k.prototype,"importBom",void 0),Object(p["a"])([A(f["a"].ApprovalBom)],k.prototype,"approvalBom",void 0),Object(p["a"])([S(O["a"].UpdateBOMTable)],k.prototype,"updateBOMTable",void 0),k=Object(p["a"])([Object(d["a"])({name:"BOMTableModel",components:{}})],k);var x=k,C=x,B=(i("a1cc"),i("2877")),w=Object(B["a"])(C,I,_,!1,null,"5d28a64a",null),j=w.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.BOMImageInfo.isShow,expression:"BOMImageInfo.isShow"}],staticClass:"model-container"},[n("div",{staticClass:"model-wrapper"},[n("div",{staticClass:"model-header"},[n("div",{staticClass:"model-title"},[e.Supplier.Dfm===e.initInfo.type?n("div",{staticClass:"model-title-text"},[e._v(" 查看BOM表对应零件的2D、3D图纸 ")]):e.Supplier.Design===e.initInfo.type?n("div",{staticClass:"model-title-text"},[e._v(" 导入BOM表对应零件的2D、3D图纸 ")]):e.Supplier.Machining===e.initInfo.type||e.Supplier.Injection===e.initInfo.type?n("div",{staticClass:"model-title-text"},[e._v(" 验收BOM表对应零件的2D、3D图纸 ")]):e._e()]),n("div",{staticClass:"model-cancel",on:{click:function(t){return e.updateBOMImageInfo({isShow:!1})}}})]),n("div",{staticClass:"model-body"},[e.Supplier.Design===e.initInfo.type&&e.BOMImageInfo.isEdit?n("div",{staticClass:"model-row"},[n("div",{staticClass:"model-flex"},[n("input",{attrs:{type:"file",name:"bomimagefile",id:"bomimagefile",hidden:"hidden",multiple:"multiple",accept:".pdf, .step, .stp, .stl"},on:{change:e.uploadFile}}),n("input",{attrs:{type:"file",name:"bomimagelifile",id:"bomimagelifile",hidden:"hidden",accept:".pdf, .step, .stp, .stl"},on:{change:e.uploadFile}}),n("div",{staticClass:"model-button",on:{click:function(t){return e.checkFile()}}},[e._v(" 批量导入零件图纸 ")]),n("div",{staticClass:"model-text"},[e._v(" *使用批量导入零件图纸，需要将零件图纸以零件编号加“-2D或-3D”命名。 ")])])]):e._e(),n("div",{staticClass:"model-table"},[n("div",{staticClass:"model-table-box"},[n("table",[n("tr",[e.Supplier.Machining===e.initInfo.type||e.Supplier.Injection===e.initInfo.type?n("th",{on:{click:function(t){return e.checkBOMImageAll()}}},[e.BOMImageInfo.isAllSelected?n("img",{staticClass:"model-icon",attrs:{src:i("85e6"),alt:""}}):n("img",{staticClass:"model-icon",attrs:{src:i("0eb9"),alt:""}}),n("span",[e._v("全选")])]):e._e(),n("th",[e._v("序号")]),n("th",[e._v("零件名称")]),n("th",[e._v("零件编号")]),n("th",[e._v("2D图纸")]),n("th",[e._v("3D图纸")]),n("th",[e._v("验收结果")])]),e._l(e.BOMImageInfo.list,(function(t,a){return n("tr",{key:"_BOM表零件图纸_"+a},[e.Supplier.Machining===e.initInfo.type||e.Supplier.Injection===e.initInfo.type?n("td",{on:{click:function(t){return e.checkBOMImage(a)}}},[t.isSelected?n("img",{staticClass:"model-icon",attrs:{src:i("85e6"),alt:""}}):n("img",{staticClass:"model-icon",attrs:{src:i("0eb9"),alt:""}})]):e._e(),n("td",[e._v(e._s(t.serialNo))]),n("td",[e._v(e._s(t.partName))]),n("td",[e._v(e._s(t.partCode))]),n("td",[t.twoFaceFileName?n("span",{staticClass:"model-text model-text-blue"},[e._v(e._s(t.twoFaceFileName))]):e._e(),e.Supplier.Design===e.initInfo.type&&3===t.state&&e.BOMImageInfo.isEdit?n("span",{staticClass:"model-text model-text-gray model-text-arrow",on:{click:function(i){return e.checkLiFile(t.twoFaceFileId,t.twoFaceFileName)}}},[e._v(" 更新 "),n("span",{staticClass:"model-text-tip"})]):e.Supplier.Design===e.initInfo.type?n("span",{staticClass:"model-text model-text-gray model-text-arrow",on:{click:function(i){2!==t.state&&e.checkLiFile(t.twoFaceFileId,t.twoFaceFileName)}}},[e._v(" 更新 ")]):e._e(),t.twoFaceFileUrl?n("span",{staticClass:"model-text model-text-gray",on:{click:function(i){return e.downloadFile(t.twoFaceFileUrl,t.twoFaceFileName)}}},[e._v("下载")]):e._e()]),n("td",[t.threeFaceFileName?n("span",{staticClass:"model-text model-text-blue"},[e._v(e._s(t.threeFaceFileName))]):e._e(),e.Supplier.Design===e.initInfo.type&&3===t.state&&e.BOMImageInfo.isEdit?n("span",{staticClass:"model-text model-text-gray model-text-arrow",on:{click:function(i){return e.checkLiFile(t.threeFaceFileId,t.threeFaceFileName)}}},[e._v(" 更新 "),n("span",{staticClass:"model-text-tip"})]):e.Supplier.Design===e.initInfo.type?n("span",{staticClass:"model-text model-text-gray model-text-arrow",on:{click:function(i){2!==t.state&&e.checkLiFile(t.threeFaceFileId,t.threeFaceFileName)}}},[e._v(" 更新 ")]):e._e(),t.threeFaceFileUrl?n("span",{staticClass:"model-text model-text-gray",on:{click:function(i){return e.downloadFile(t.threeFaceFileUrl,t.threeFaceFileName)}}},[e._v("下载")]):e._e()]),n("td",[2===t.state?n("span",{staticClass:"model-text model-text-blue"},[e._v("通过")]):e._e(),3===t.state?n("span",{staticClass:"model-text model-text-red"},[e._v("驳回")]):e._e(),3===t.state?n("span",{staticClass:"model-text model-text-blue",on:{click:function(i){return e.alertMessage(t.cause)}}},[e._v("查看详情")]):e._e()])])}))],2)]),n("div",{staticClass:"model-table-footer"},[n("el-pagination",{attrs:{"current-page":e.BOMImageInfo.pageNo,"page-sizes":e.BOMImageInfo.pageSizes,"page-size":e.BOMImageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.BOMImageInfo.total},on:{"size-change":e.updatePageSize,"current-change":e.updatePageNum}})],1)]),e.Supplier.Machining!==e.initInfo.type&&e.Supplier.Injection!==e.initInfo.type||!e.BOMImageInfo.isEdit?n("div",{staticClass:"model-buttons"},[n("div",{staticClass:"model-button model-button-blue",on:{click:function(t){return e.updateBOMImageInfo({isShow:!1})}}},[e._v("确定")])]):n("div",{staticClass:"model-buttons"},[n("div",{staticClass:"model-button model-button-blue",on:{click:function(t){return e.approvalBomImage({cause:"",opinion:1,role:e.Supplier.Machining===e.initInfo.type?1:e.Supplier.Injection===e.initInfo.type?2:0})}}},[e._v(" 通过 ")]),n("div",{staticClass:"model-button",on:{click:function(t){return e.approvalBomImage({cause:"",opinion:0,role:e.Supplier.Machining===e.initInfo.type?1:e.Supplier.Injection===e.initInfo.type?2:0})}}},[e._v(" 驳回 ")])])])])])},U=[],D=Object(u["d"])("order/design"),N=D.State,E=(D.Getter,D.Action),L=D.Mutation,P=function(e){Object(c["a"])(i,e);var t=Object(r["a"])(i);function i(){var e;return Object(s["a"])(this,i),e=t.apply(this,arguments),e.Supplier=m["a"],e.fileLen=0,e.files=[],e.fileNum=0,e.fileList=[],e.infoId="",e}return Object(l["a"])(i,[{key:"downloadFile",value:function(e,t){e&&Object(v["a"])(e,t)}},{key:"checkFile",value:function(){var e=document.querySelector("#bomimagefile");e.click()}},{key:"uploadFile",value:function(e){e.target.files.length&&(this.fileLen=e.target.files.length,this.files=e.target.files,this.fileNum=0,this.fileList=[],this.uploadFileFn((function(){e.target.value=null})))}},{key:"uploadFileFn",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var i,n,a,o,s,l,c,r,p,d,u,m,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i=new FormData,i.append("files",this.files[this.fileNum]),e.next=5,Object(b["f"])(i);case 5:n=e.sent,a=n.success,o=n.message,s=n.data,a?(l=s||{},c=l.pics,r=void 0===c?[]:c,p=r[0],d=p.filePath,void 0===d?"":d,u=p.fileName,void 0===u?"":u,m=p.id,f=void 0===m?"":m,this.fileList.push(f),this.fileNum===this.fileLen-1?(this.importBomImage({bomDesignFiles:this.fileList}),t&&t()):(this.fileNum++,this.uploadFileFn(t))):g["Message"].error(o),e.next=15;break;case 12:throw e.prev=12,e.t0=e["catch"](0),new Error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"checkLiFile",value:function(e){this.infoId=e;var t=document.querySelector("#bomimagelifile");t.click()}},{key:"alertMessage",value:function(e){g["MessageBox"].alert(e||"","驳回原因")}}]),i}(d["d"]);Object(p["a"])([N("initInfo")],P.prototype,"initInfo",void 0),Object(p["a"])([N("BOMImageInfo")],P.prototype,"BOMImageInfo",void 0),Object(p["a"])([E(f["a"].UpdateBOMImagePageNum)],P.prototype,"updatePageNum",void 0),Object(p["a"])([E(f["a"].UpdateBOMImagePageSize)],P.prototype,"updatePageSize",void 0),Object(p["a"])([E(f["a"].CheckBOMImage)],P.prototype,"checkBOMImage",void 0),Object(p["a"])([E(f["a"].CheckBOMImageAll)],P.prototype,"checkBOMImageAll",void 0),Object(p["a"])([E(f["a"].ImportBomImage)],P.prototype,"importBomImage",void 0),Object(p["a"])([E(f["a"].ApprovalBomImage)],P.prototype,"approvalBomImage",void 0),Object(p["a"])([L(O["a"].UpdateBOMImageInfo)],P.prototype,"updateBOMImageInfo",void 0),P=Object(p["a"])([Object(d["a"])({name:"BOMImageInfoModel",components:{}})],P);var T=P,z=T,R=(i("da89"),Object(B["a"])(z,F,U,!1,null,"3fb39994",null)),Q=R.exports,G=Object(u["d"])("order/design"),J=G.State,W=(G.Getter,G.Action),Z=(G.Mutation,function(e){Object(c["a"])(i,e);var t=Object(r["a"])(i);function i(){var e;return Object(s["a"])(this,i),e=t.apply(this,arguments),e.BASE_IMAGE_URL=h["c"],e.Supplier=m["a"],e}return Object(l["a"])(i,[{key:"checkFile",value:function(){var e=document.querySelector("#file");e.click()}},{key:"uploadFile",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var i,n,a,o,s,l,c,r,p,d,u,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i=t.target.files[0],n=new FormData,n.append("files",i),e.next=6,Object(b["f"])(n);case 6:a=e.sent,o=a.success,s=a.message,l=a.data,o?(c=l||{},r=c.pics,p=void 0===r?[]:r,d=p[0],u=d.filePath,void 0===u?"":u,d.fileName,m=d.id,this.importDesign({threeFacePlanFileId:m})):g["Message"].error(s),t.target.value=null,e.next=17;break;case 14:throw e.prev=14,e.t0=e["catch"](0),new Error(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"created",value:function(){this.getStepDetail()}},{key:"downloadFile",value:function(e,t){e&&Object(v["a"])(e,t)}},{key:"alertMessage",value:function(e){console.log(e),g["MessageBox"].alert(e||"","驳回原因")}},{key:"alertModel",value:function(e){var t=e.label,i=void 0===t?0:t,n=e.isEdit,a=void 0!==n&&n;2===i?this.getBOMList(a):3===i&&this.getBOMImageInfo(a)}}]),i}(d["d"]));Object(p["a"])([J("initInfo")],Z.prototype,"initInfo",void 0),Object(p["a"])([J("design")],Z.prototype,"design",void 0),Object(p["a"])([W(f["a"].GetStepDetail)],Z.prototype,"getStepDetail",void 0),Object(p["a"])([W(f["a"].GetBOMListCtl)],Z.prototype,"getBOMList",void 0),Object(p["a"])([W(f["a"].ImportDesign)],Z.prototype,"importDesign",void 0),Object(p["a"])([W(f["a"].GetBOMImageInfoCtl)],Z.prototype,"getBOMImageInfo",void 0),Object(p["a"])([W(f["a"].ApprovalDesign)],Z.prototype,"approvalDesign",void 0),Z=Object(p["a"])([Object(d["a"])({name:"DesignView",components:{BOMTableModel:j,BOMImageInfoModel:Q}})],Z);var V=Z,X=V,q=(i("5a0c"),Object(B["a"])(X,n,a,!1,null,"26b00c8a",null));t["default"]=q.exports},da89:function(e,t,i){"use strict";var n=i("fa21"),a=i.n(n);a.a},fa21:function(e,t,i){}}]);